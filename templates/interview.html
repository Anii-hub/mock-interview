{% extends "base.html" %}
{% load static %}
{% block content %}

{% if request.session.mode == "resume" %}
  <div class="alert alert-info mb-3">
    ðŸ“„ This interview is based on your uploaded resume
  </div>
{% endif %}

<!-- Question Counter -->
<div id="questionCounter" class="mb-2 text-muted">
  Question {{ current }} of {{ total }}
</div>

<!-- Question Card -->
<div class="card shadow-sm p-4 mb-3">
  <div id="questionText"
       style="
         font-family: 'Georgia', 'Times New Roman', serif;
         font-size: 1.15rem;
         line-height: 1.6;
       ">
    {{ question }}
  </div>

  <button id="readQuestionBtn"
        class="btn btn-outline-primary btn-sm mt-3">
  ðŸ”Š Read Question
</button>

</div>

<!-- Answer Card -->
<div class="card shadow-sm p-4">
  <h5 class="mb-3">Your Answer</h5>

  <textarea id="answerBox"
            class="form-control mb-3"
            rows="6"
            placeholder="Type your answer or use voice input... "></textarea>

  <div class="d-flex gap-2">
    <button id="micBtn" class="btn btn-danger">
      ðŸŽ¤ Speak
    </button>

    <button id="submitBtn" class="btn btn-success ms-auto">
      Submit
    </button>
  </div>

  <div id="errorBox" class="text-danger mt-3"></div>
</div>

<!-- Feedback Section -->
<div id="feedbackBox"
     class="card shadow-sm p-4 mt-4"
     style="display: none;">
  <h5>AI Feedback</h5>
  <div id="feedbackContent"
       class="mt-3 p-3 bg-light border rounded"
       style="white-space: pre-wrap; font-family: system-ui;">
  </div>
</div>

<!-- JS -->
<script src="{% static 'js/interview.js' %}"></script>

{% endblock %}
